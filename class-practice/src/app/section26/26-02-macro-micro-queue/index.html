<!doctype html>
<html lang="ko">
  <head>
    <title>매크로큐 vs 마이크로큐</title>
    <script>
      const onClickButton = () => {
        console.log('시작');
        // 메크로큐에 들어감
        setTimeout(() => {
          new Promise((resolve) => {
            resolve('철수');
          }).then(() => {
            console.log(
              '저는 Promise입니다. setTimeout 안에서 실행되고 있어요'
            );
          });
          console.log('저는 setTimeout 이에요. 매크로큐입니다.');
        }, 0);

        //마이크로큐(우선순위 큐)에 들어감
        new Promise((resolve) => {
          resolve('철수');
        }).then(() => {
          console.log('저는 Promise1 입니다. 마이크로큐 입니다.');
        });

        //매크로큐에 들어감
        setInterval(() => {
          console.log(
            '저는 setInterval 입니다. 매크로큐입니다. 0초마다 실행될 거에요.'
          );
        }, 0);

        let sum = 0;
        for (let i = 0; i <= 9000000000; i++) {
          sum += 1;
        }

        //마이크로큐(우선순위 큐)에 들어감
        new Promise((resolve) => {
          resolve('철수');
        }).then(() => {
          console.log('저는 Promise2 입니다. 마이크로큐 입니다.');
        });

        console.log('끝');
      };
    </script>
  </head>
  <body>
    <button onclick="onClickButton()">시작하기</button>
  </body>
</html>
